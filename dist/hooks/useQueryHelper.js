"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _objectDestructuringEmpty2=_interopRequireDefault(require("@babel/runtime/helpers/objectDestructuringEmpty")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_reactQuery=require("@tanstack/react-query"),_excuteAPIRequest=_interopRequireDefault(require("../utils/excuteAPIRequest"));function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2["default"])(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var useQueryHelper=function(a,b){var c=a.endpoint,d=void 0===c?null:c,e=a.method,f=void 0===e?"GET":e,g=a.contentType,h=void 0===g?null:g,i=a.body,j=void 0===i?null:i,k=a.token,l=void 0===k?null:k,m=a.pageParam,n=void 0===m?null:m,o=a.resourceIdentifier,p=void 0===o?null:o,q=b.queryKey,r=void 0===q?["users"]:q,s=b.enabled,t=void 0===s?!!d:s,u=b.refetchOnWindowFocus,v=b.mutations,w=b.invalidateQueries,x=(0,_reactQuery.useQueryClient)(),y=_excuteAPIRequest["default"],z=(0,_reactQuery.useQuery)(_objectSpread(_objectSpread({queryKey:r},d&&{queryFn:function queryFn(){return y({endpoint:d,method:f,contentType:h,body:j,token:l,pageParam:n,resourceIdentifier:p})}}),{},{enabled:t,refetchOnWindowFocus:void 0!==u&&u})),A=(0,_reactQuery.useMutation)({mutationFn:function handleMutation(a){var b,c,d=(0,_extends2["default"])({},((0,_objectDestructuringEmpty2["default"])(a),a)),e=d.type,f=d.data;return null!==v&&void 0!==v&&null!==(b=v[e])&&void 0!==b&&b.call(v,f)&&f?null===v||void 0===v||null===(c=v[e])||void 0===c?void 0:c.call(v,f):f?y(_objectSpread({},f)):y(_objectSpread({},d))},onSuccess:function onSuccess(a){return void 0!==w&&w&&x.invalidateQueries(r),a},onError:function onError(a){return a}});return{query:z,mutation:A,queryClient:x}},_default=exports["default"]=useQueryHelper;